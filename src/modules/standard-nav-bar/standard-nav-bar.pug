include ../logo/logo.pug
include ../navigation/navigation.pug
include ../buttons/buttons.pug

mixin standard-nav-bar(props={})
  //- standard nav-bav
  //- Принимает объект props с ключами
  //- mods    {string} модификаторы через запятую
  //-             _logged-in

  -
    let moduleClass = (props.moduleClass) ? props.moduleClass : ''
    let allMods = ''
    let loggedIn = false
    if (typeof(props.mods) !== 'undefined' && props.mods) {
    let modList = props.mods.split(',')
    for (let i=0; i < modList.length; i++) {
      if (modList[i].trim() === 'logged-in') {
        loggedIn = true
      }
      allMods = allMods + ' standard-nav-bar_' + modList[i].trim()
      }
    }

  article.standard-nav-bar(class = allMods)
    .standard-nav-bar__logo
      +logo()
    .standard-nav-bar__navigation-region
      +navigation({
        itemsList: [
          {
            item: 'Home',
            link: '#',
            mods: 'active'
            },
          {
            item: 'About Us',
            link: '#'
            },
          {
            item: 'Services',
            link: '#',
            mods: 'sub',
            subList: [
              {
                item: 'Our Services',
                link: '#'
              }
            ]
            },
          {
            item: 'Careers',
            link: '#'
            },
          {
            item: 'News',
            link: '#'
            },
          {
            item: 'Documentation',
            link: '#'
            }
          ]
      })
    .standard-nav-bar__login-region
      if loggedIn
        .standard-nav-bar__logged-element
          span.standard-nav-bar__login-separator s
        .standard-nav-bar__logged-element
          p.standard-nav-bar__user-name= props.userName

      else
        .standard-nav-bar__logged-element
          +buttons({
            lineTitle: 'LOGIN',
            mods: 'border, free-height, padding20'
          })
        .standard-nav-bar__logged-element
          +buttons({
            lineTitle: 'REGISTER',
            mods: 'full, free-height, padding20'
          })
      

    